{"version":3,"file":"fynmesh-browser-kernel.min.js","sources":["../src/event-target.ts","../src/kernel-core.ts","../src/share-scope.ts","../src/util.ts","../src/browser-kernel.ts","../src/browser.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["FynEventTarget","EventTarget","constructor","super","on","type","handler","options","this","addEventListener","once","xh","evt","removeEventListener","isEventListener","handleEvent","DummyMiddlewareReg","regKey","FynMeshKernelCore","version","shareScopeName","deferInvoke","middlewareReady","Map","events","runTime","appsLoaded","middlewares","event","handleMiddlewareReady","emitAsync","dispatchEvent","name","status","cc","share","detail","_share","set","reg","fullKey","resumes","i","length","callContexts","count","deferCC","runtime","push","filter","Boolean","resume","callMiddlewares","console","debug","Date","now","registerMiddleware","mwReg","hostFynApp","versionMap","Object","create","default","getMiddleware","provider","middlewareKey","initRunTime","data","cleanContainerName","replace","loadExposeModule","fynApp","exposeName","loadMiddlewares","container","entry","$E","exposedModule","get","mwExports","exportName","exportValue","entries","startsWith","middleware","mwName","join","exposes","__name","loadFynAppBasics","fynAppEntry","init","packageName","middlewareContext","factory","config","setup","createFynModuleRuntime","invokeFynModule","fynMod","initialize","execute","checkSingleMiddlewareReady","has","checkMiddlewareReady","ccs","checkDeferCalls","tries","error","Error","mw","result","apply","useMiddlewareOnFynModule","__middlewareMeta","map","meta","info","kernel","undefined","bootstrapFynApp","keys","mainFynModule","main","buildFynAppUrl","baseUrl","entryFile","urlPath","fillSlash","endsWith","urlJoin","BrowserKernel","loadFynApp","loadId","Federation","globalThis","import","err","fynMeshKernel","createBrowserKernel"],"mappings":"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"}