{"version":3,"file":"App-D_vs7PXJ.js","sources":["../src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport type { ComponentLibrary } from \"./components\";\n\ninterface AppProps {\n  appName: string;\n  components: ComponentLibrary;\n  middlewareConfig?: { count: number }; // Config from basic counter middleware\n  runtime?: any; // Runtime to access middleware context\n}\n\nconst App: React.FC<AppProps> = ({\n  appName,\n  components,\n  middlewareConfig,\n  runtime,\n}: AppProps) => {\n  // Use local state for reactivity, but sync with middleware context\n  const [counter, setCounter] = useState({\n    count: middlewareConfig?.count || 0,\n  });\n\n  // Theme state management\n  const [currentTheme, setCurrentTheme] = useState(\"fynmesh-default\");\n  const [availableThemes, setAvailableThemes] = useState<string[]>([]);\n  const [applyGlobally, setApplyGlobally] = useState(false);\n  const [acceptGlobally, setAcceptGlobally] = useState(false);\n\n  // Available themes\n  const themeOptions = [\n    { value: \"fynmesh-default\", label: \"Default\" },\n    { value: \"fynmesh-dark\", label: \"Dark\" },\n    { value: \"fynmesh-blue\", label: \"Blue\" },\n    { value: \"fynmesh-green\", label: \"Green\" },\n    { value: \"fynmesh-purple\", label: \"Purple\" },\n    { value: \"fynmesh-sunset\", label: \"Sunset\" },\n    { value: \"fynmesh-cyberpunk\", label: \"Cyberpunk\" },\n  ];\n\n  // Function to get the shared data object from middleware context\n  const getSharedDataObject = () => {\n    if (runtime?.middlewareContext) {\n      const basicCounterData = runtime.middlewareContext.get(\"basic-counter\");\n      return basicCounterData; // Return the actual object, not a copy\n    }\n    return null;\n  };\n\n  // Function to read current count from the shared data object\n  const readCountFromSharedData = () => {\n    const sharedData = getSharedDataObject();\n    return sharedData?.config?.count || middlewareConfig?.count || 0;\n  };\n\n  // Set up event listener for counter changes from other apps\n  useEffect(() => {\n    const syncWithSharedData = () => {\n      const sharedCount = readCountFromSharedData();\n      setCounter({ count: sharedCount });\n    };\n\n    // Initial sync\n    syncWithSharedData();\n\n    // Set up event listener for changes from other apps\n    const handleCounterChange = (event: CustomEvent) => {\n      const { count, source } = event.detail;\n      if (source !== runtime?.fynApp?.name) {\n        // Only update if the change came from a different app\n        setCounter({ count });\n        console.debug(\n          `ðŸ”„ fynapp-1: Received counter update from ${source}:`,\n          count\n        );\n      }\n    };\n\n    const sharedData = getSharedDataObject();\n    if (sharedData?.eventTarget) {\n      sharedData.eventTarget.addEventListener(\n        \"counterChanged\",\n        handleCounterChange\n      );\n\n      return () => {\n        sharedData.eventTarget.removeEventListener(\n          \"counterChanged\",\n          handleCounterChange\n        );\n      };\n    }\n  }, [runtime, middlewareConfig]);\n\n  // Set up design tokens and theme management\n  useEffect(() => {\n    const designTokensData = runtime?.middlewareContext?.get(\"design-tokens\");\n    if (designTokensData?.api) {\n      const api = designTokensData.api;\n\n      // Initialize current theme\n      const currentTheme = api.getTheme();\n      setCurrentTheme(currentTheme);\n\n      // Initialize accept globally from API (this is shared state)\n      const globalOptIn = api.getGlobalOptIn();\n      setAcceptGlobally(globalOptIn);\n\n      // Initialize apply globally from localStorage (this is local state)\n      const applyGloballyKey = `fynapp-${runtime?.fynApp?.name}-apply-globally`;\n      const savedApplyGlobally = localStorage.getItem(applyGloballyKey);\n      setApplyGlobally(savedApplyGlobally === 'true');\n\n      // Subscribe to theme changes\n      const unsubscribe = api.subscribeToThemeChanges((theme: string, tokens: any, fynAppName?: string) => {\n        // Only update if:\n        // 1. The change is specifically for this app, OR\n        // 2. The change is global AND this app accepts global changes\n        if (fynAppName === runtime?.fynApp?.name || (!fynAppName && api.getGlobalOptIn())) {\n          setCurrentTheme(theme);\n          console.debug(`ðŸŽ¨ fynapp-1: Theme changed to ${theme}${fynAppName ? ` for ${fynAppName}` : ' globally'}`);\n        }\n      });\n\n      return unsubscribe;\n    }\n  }, [runtime]);\n\n  // Destructure the components\n  const { Button, Card, Input, Badge, Spinner } = components;\n\n  const handleIncrement = () => {\n    const sharedData = getSharedDataObject();\n    if (sharedData?.increment) {\n      const newCount = sharedData.increment(runtime?.fynApp?.name);\n      // Update local state for immediate UI response\n      setCounter({ count: newCount });\n    }\n  };\n\n  const handleReset = () => {\n    const sharedData = getSharedDataObject();\n    if (sharedData?.reset) {\n      const newCount = sharedData.reset(runtime?.fynApp?.name);\n      // Update local state for immediate UI response\n      setCounter({ count: newCount });\n    }\n  };\n\n  // Theme switching function\n  const handleThemeChange = (theme: string) => {\n    const designTokensData = runtime?.middlewareContext?.get(\"design-tokens\");\n    if (designTokensData?.api) {\n      const api = designTokensData.api;\n\n      if (applyGlobally) {\n        // Apply globally\n        api.setTheme(theme, true);\n        console.debug(`ðŸŽ¨ fynapp-1: Switching to theme ${theme} globally`);\n\n        // If we're applying globally but not accepting globally (G/L scenario),\n        // we need to apply the theme to ourselves locally as well\n        if (!acceptGlobally) {\n          api.setTheme(theme, false);\n          console.debug(`ðŸŽ¨ fynapp-1: Also applying theme ${theme} locally (G/L scenario)`);\n        }\n      } else {\n        // Apply locally only\n        api.setTheme(theme, false);\n        console.debug(`ðŸŽ¨ fynapp-1: Switching to theme ${theme} locally`);\n      }\n    }\n  };\n\n  // Handle apply globally toggle\n  const handleApplyGloballyChange = (apply: boolean) => {\n    setApplyGlobally(apply);\n    // Persist to localStorage (this is local state per app)\n    const applyGloballyKey = `fynapp-${runtime?.fynApp?.name}-apply-globally`;\n    localStorage.setItem(applyGloballyKey, apply.toString());\n    console.debug(`ðŸŽ¨ fynapp-1: ${apply ? 'Enabled' : 'Disabled'} apply globally`);\n  };\n\n  // Handle accept globally toggle\n  const handleAcceptGloballyChange = (accept: boolean) => {\n    const designTokensData = runtime?.middlewareContext?.get(\"design-tokens\");\n    if (designTokensData?.api) {\n      designTokensData.api.setGlobalOptIn(accept);\n      setAcceptGlobally(accept);\n      console.debug(`ðŸŽ¨ fynapp-1: ${accept ? 'Enabled' : 'Disabled'} accept global changes`);\n    }\n  };\n\n  // Demo state\n  const [inputValue, setInputValue] = useState(\"\");\n  const [inputError, setInputError] = useState(\"\");\n\n  const handleInputSubmit = () => {\n    if (!inputValue.trim()) {\n      setInputError(\"Please enter some text\");\n      return;\n    }\n    setInputError(\"\");\n    alert(`You entered: ${inputValue}`);\n    setInputValue(\"\");\n  };\n\n  return (\n    <div style={{ padding: \"20px\", fontFamily: \"Arial, sans-serif\" }}>\n      <h2>\n        {appName}: React {React.version}\n      </h2>\n\n      {/* Theme Selection */}\n      <Card title=\"ðŸŽ¨ Design Tokens Theme Selection\" className=\"mb-6\">\n        <div className=\"mb-4 space-y-2\">\n          <label className=\"flex items-center gap-2 text-sm\">\n            <input\n              type=\"checkbox\"\n              checked={applyGlobally}\n              onChange={(e) => handleApplyGloballyChange(e.target.checked)}\n              className=\"w-4 h-4\"\n            />\n            <span>Apply globally (affects all fynapp instances)</span>\n          </label>\n          <label className=\"flex items-center gap-2 text-sm\">\n            <input\n              type=\"checkbox\"\n              checked={acceptGlobally}\n              onChange={(e) => handleAcceptGloballyChange(e.target.checked)}\n              className=\"w-4 h-4\"\n            />\n            <span>Accept changes globally (from other apps)</span>\n          </label>\n        </div>\n        <div className=\"flex flex-wrap gap-2 mb-4\">\n          {themeOptions.map((theme) => (\n            <Button\n              key={theme.value}\n              variant={currentTheme === theme.value ? \"primary\" : \"outline\"}\n              size=\"small\"\n              onClick={() => handleThemeChange(theme.value)}\n            >\n              {theme.label}\n            </Button>\n          ))}\n        </div>\n        <div className=\"text-sm text-gray-600\">\n          Current theme: <strong>{currentTheme}</strong>\n          <br />\n          Apply scope: <strong>{applyGlobally ? \"Global\" : \"Local\"}</strong>\n          <br />\n          Accept scope: <strong>{acceptGlobally ? \"Global\" : \"Local\"}</strong>\n        </div>\n      </Card>\n\n      {/* Demo UI Sections */}\n      <Card title=\"ðŸŽ¨ fynapp-x1 Components Demo\" className=\"mb-6\">\n        {/* Buttons Section */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Buttons</h3>\n          <div className=\"flex flex-wrap gap-2 mb-3\">\n            <Button variant=\"primary\" size=\"small\">\n              Primary Small\n            </Button>\n            <Button variant=\"secondary\" size=\"medium\">\n              Secondary Medium\n            </Button>\n            <Button variant=\"outline\" size=\"large\">\n              Outline Large\n            </Button>\n            <Button variant=\"danger\" size=\"medium\">\n              Danger\n            </Button>\n            <Button variant=\"primary\" size=\"medium\" isLoading>\n              Loading...\n            </Button>\n          </div>\n        </div>\n\n        {/* Badges Section */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Badges</h3>\n          <div className=\"flex flex-wrap gap-2 mb-3\">\n            <Badge variant=\"default\">Default</Badge>\n            <Badge variant=\"primary\">Primary</Badge>\n            <Badge variant=\"success\">Success</Badge>\n            <Badge variant=\"warning\">Warning</Badge>\n            <Badge variant=\"danger\">Danger</Badge>\n          </div>\n        </div>\n\n        {/* Spinners Section */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Spinners</h3>\n          <div className=\"flex items-center gap-4 mb-3\">\n            <div className=\"flex items-center gap-2\">\n              <Spinner size=\"small\" color=\"primary\" />\n              <span>Small</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Spinner size=\"medium\" color=\"gray\" />\n              <span>Medium</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Spinner size=\"large\" color=\"primary\" />\n              <span>Large</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Input Section */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Input</h3>\n          <div className=\"max-w-md\">\n            <Input\n              label=\"Demo Input\"\n              placeholder=\"Type something...\"\n              value={inputValue}\n              onChange={(e: any) => setInputValue(e.target.value)}\n              error={inputError}\n              helperText=\"This is a helper text\"\n            />\n            <Button onClick={handleInputSubmit} variant=\"primary\" size=\"medium\">\n              Submit Input\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      {/* Counter Display and Controls - Moved to bottom */}\n      <Card className=\"mb-6\">\n        <h2 className=\"text-xl font-bold mb-4 text-center\">\n          Shared Counter (Provider)\n        </h2>\n        <div className=\"flex items-center justify-center gap-4\">\n          <div className=\"text-3xl font-bold text-blue-600 min-w-16 text-center\">\n            {counter.count}\n          </div>\n          <Button onClick={handleIncrement} variant=\"primary\" size=\"medium\">\n            Increment\n          </Button>\n          <Button onClick={handleReset} variant=\"danger\" size=\"medium\">\n            Reset\n          </Button>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"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"}