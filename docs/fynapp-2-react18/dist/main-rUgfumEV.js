!function(e){e._mfBind({n:"main",f:"main-rUgfumEV.js",c:"fynapp-2-react18",s:"fynmesh",e:!1,v:"1.0.0"},["src","%nm/@fynmesh/kernel/lib"]).register(["esm-react","esm-react-dom"],(function(t,n){"use strict";var a,r,o,i;return{setters:[function(e){a=e.default,r=e.useState,o=e.useEffect},function(e){i=e.default}],execute:function(){const n=(e,t)=>(t.__middlewareMeta=[].concat(e),t);n({info:{name:"react-context",version:"^1.0.0",provider:"fynapp-react-lib"},config:{theme:"light"}},{initialize:()=>{},execute:()=>{}});const l=({appName:e,components:t,middlewareConfig:n,runtime:i})=>{const[l,c]=a.useState(!1),[s,m]=a.useState(0),[p,d]=a.useState(!1),[u,f]=a.useState(""),[y,g]=a.useState(0),[x,v]=r({count:n?.count||0}),E=()=>{if(i?.middlewareContext){return i.middlewareContext.get("basic-counter")}return null};o((()=>{(()=>{const e=(()=>{const e=E();return e?.config?.count||n?.count||0})();v({count:e})})();const e=e=>{const{count:t,source:n}=e.detail;n!==i?.fynApp?.name&&(v({count:t}),console.debug(`üîÑ fynapp-2-react18: Received counter update from ${n}:`,t))},t=E();if(t?.eventTarget)return t.eventTarget.addEventListener("counterChanged",e),()=>{t.eventTarget.removeEventListener("counterChanged",e)}}),[i,n]);const{Button:b,Card:h,Input:C,Modal:w,Alert:k,Badge:T,Spinner:S}=t;return a.createElement("div",{style:{padding:"20px",maxWidth:"768px",margin:"0 auto"}},a.createElement("h2",null,e,": React ",a.version," using Components from fynapp-x1 v1"),i&&n&&a.createElement(h,{title:"üîó Basic Counter (Middleware Consumer)",style:{marginBottom:"16px"}},a.createElement("div",{style:{padding:"15px"}},a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"}},a.createElement("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#007bff",minWidth:"60px",textAlign:"center"}},x.count),a.createElement(b,{variant:"primary",onClick:()=>{const e=E();if(e?.increment){const t=e.increment(i?.fynApp?.name);v({count:t}),console.debug("‚úÖ fynapp-2-react18: Counter incremented to:",t)}}},"Increment"),a.createElement(b,{variant:"outline",onClick:()=>{const e=E();if(e?.reset){const t=e.reset(i?.fynApp?.name);v({count:t}),console.debug("‚úÖ fynapp-2-react18: Counter reset to:",t)}}},"Reset")))),a.createElement(k,{variant:"info",style:{marginBottom:"16px"}},"Component counter: ",y),a.createElement(h,{title:"Example Card from fynapp-x1 v1",footer:a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"}},a.createElement(b,{variant:"outline",onClick:()=>d(!0)},"Open Modal"),a.createElement(b,{variant:"primary",onClick:()=>{c(!0),m((e=>e+1)),g(y+1),setTimeout((()=>c(!1)),1e3)}},"Click Me (",s,")"))},a.createElement("p",null,"This is a card component from fynapp-x1 version 1.0.0!"),a.createElement("p",null,"Try out different components below:"),a.createElement("div",{style:{marginBottom:"20px"}},a.createElement("h4",null,"Badges:"),a.createElement("div",{style:{display:"flex",gap:"12px",marginTop:"12px"}},a.createElement(T,{variant:"default"},"Default"),a.createElement(T,{variant:"primary"},"Primary"),a.createElement(T,{variant:"success"},"Success"),a.createElement(T,{variant:"warning"},"Warning"),a.createElement(T,{variant:"danger"},"Danger"))),a.createElement("div",{style:{marginTop:"20px"}},a.createElement("h4",null,"Spinner examples:"),a.createElement("div",{style:{display:"flex",gap:"20px",alignItems:"center",marginTop:"12px"}},a.createElement(S,{size:"small",color:"primary"}),a.createElement(S,{size:"medium",color:"gray"}),a.createElement(S,{size:"large",color:"primary"})))),l&&a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none",zIndex:1e3}},a.createElement("div",{style:{position:"absolute",width:"150%",height:"150%",borderRadius:"50%",background:"radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, rgba(99, 102, 241, 0.1) 50%, transparent 100%)",animation:"pulse 1s ease-in-out"}}),a.createElement("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"#6366f1",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",animation:"bounce 1s ease-in-out"}},"+1 Click!"),a.createElement("style",null,"\n            @keyframes pulse {\n              0%, 100% { opacity: 1; transform: scale(1); }\n              50% { opacity: 0.7; transform: scale(1.05); }\n            }\n            @keyframes bounce {\n              0%, 20%, 53%, 80%, 100% { transform: translateY(0); }\n              40%, 43% { transform: translateY(-15px); }\n              70% { transform: translateY(-5px); }\n              90% { transform: translateY(-3px); }\n            }\n          ")),p&&a.createElement(w,{isOpen:p,onClose:()=>d(!1),title:"Example Modal (v1 components)",footer:a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"16px 20px"}},a.createElement(b,{variant:"outline",onClick:()=>d(!1)},"Cancel"),a.createElement(b,{variant:"primary",onClick:()=>d(!1)},"Confirm"))},a.createElement("div",{style:{padding:"20px"}},a.createElement("p",{style:{marginBottom:"16px"}},"This is a modal component from fynapp-x1 version 1.0.0!"),a.createElement(C,{label:"Example Input",value:u,onChange:e=>f(e.target.value),placeholder:"Type something...",helperText:"This is a helper text"}))))};t("main",n({info:{name:"basic-counter",provider:"fynapp-react-middleware",version:"^1.0.0"},config:"consume-only"},{initialize(e){const t=e.middlewareContext.get("basic-counter"),n=t?.config;return console.debug(`üìã ${e.fynApp.name} initialize called with config:`,n),{status:"ready",mode:"consumer"}},async execute(t){console.debug("MiddlewareUser.main called",{fynApp:t.fynApp.name}),console.debug(`Bootstrapping ${t.fynApp.name} with React ${a.version}`);let n,r=document.getElementById("fynapp-2-react18");r||(r=document.createElement("div"),r.id="fynapp-2-react18",document.body.appendChild(r));try{n=await(async()=>{try{return await e._importExpose("-MF_EXPOSE fynapp-x1/main ^1.0.0")}catch(e){throw console.error("Failed to load components from fynapp-x1:",e),e}})(),console.debug("Successfully loaded component library from fynapp-x1")}catch(e){return console.error("Failed to load components from fynapp-x1:",e),void(r.innerHTML='\n        <div style="padding: 20px; color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px;">\n          <h3>Error Loading Components</h3>\n          <p>Failed to load component library from fynapp-x1. Check console for details.</p>\n          <button onclick="location.reload()">Retry</button>\n        </div>\n      ')}const o=t.middlewareContext.get("basic-counter"),c=o?.config||{count:0};console.debug("üîç fynapp-2-react18: Available middleware APIs:",Array.from(t.middlewareContext.keys())),console.debug("üîç fynapp-2-react18: Middleware config:",c);i.createRoot(r).render(a.createElement(l,{appName:t.fynApp.name,components:n,middlewareConfig:c,runtime:t}))}}))}}}))}(globalThis.Federation);
//# sourceMappingURL=main-rUgfumEV.js.map
