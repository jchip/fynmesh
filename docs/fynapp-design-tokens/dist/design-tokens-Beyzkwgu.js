globalThis.Federation._mfBind({n:"design-tokens",f:"design-tokens-Beyzkwgu.js",c:"fynapp-design-tokens",s:"fynmesh",e:!1,v:"1.0.0"},[]).register([],function(e){"use strict";return{execute:function(){const s=(e,s)=>(s.__middlewareMeta=[].concat(e),s),t={initialize:()=>({status:"ready"}),execute:()=>{}};s({info:{name:"react-context",version:"^1.0.0",provider:"fynapp-react-lib"},config:{theme:"light"}},t);const n={colors:{primary:"#2563eb",secondary:"#64748b",success:"#059669",warning:"#d97706",danger:"#dc2626",info:"#0284c7",light:"#f8fafc",dark:"#0f172a",fynapp1:"#6366f1",fynapp1b:"#10b981",fynapp2:"#8b5cf6",fynapp3:"#ff5733",fynapp4:"#42b883",fynapp5:"#673ab8",fynapp6:"#4f46e5",fynapp7:"#2D7FF9"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"2.5rem","3xl":"3rem"},typography:{sizes:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem"},weights:{thin:100,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},families:{sans:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',serif:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',mono:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace'}},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"0 0 #0000"},borders:{radius:{none:"0px",sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},width:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"}},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}},o={"fynmesh-default":{name:"FynMesh Default",tokens:n,cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-dark":{name:"FynMesh Dark",tokens:{...n,colors:{...n.colors,primary:"#3b82f6",secondary:"#6b7280",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#06b6d4",light:"#1e293b",dark:"#f1f5f9",fynapp1:"#7c3aed",fynapp1b:"#059669",fynapp2:"#a855f7",fynapp3:"#e11d48",fynapp4:"#059669",fynapp5:"#8b5cf6",fynapp6:"#6366f1",fynapp7:"#0ea5e9"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-blue":{name:"FynMesh Blue",tokens:{...n,colors:{...n.colors,primary:"#1e40af",secondary:"#3b82f6",success:"#059669",warning:"#d97706",danger:"#dc2626",info:"#0284c7",light:"#eff6ff",dark:"#1e3a8a",fynapp1:"#1e40af",fynapp1b:"#3b82f6",fynapp2:"#6366f1",fynapp3:"#0ea5e9",fynapp4:"#06b6d4",fynapp5:"#8b5cf6",fynapp6:"#1e40af",fynapp7:"#0284c7"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-green":{name:"FynMesh Green",tokens:{...n,colors:{...n.colors,primary:"#059669",secondary:"#10b981",success:"#22c55e",warning:"#eab308",danger:"#ef4444",info:"#06b6d4",light:"#f0fdf4",dark:"#064e3b",fynapp1:"#059669",fynapp1b:"#10b981",fynapp2:"#22c55e",fynapp3:"#84cc16",fynapp4:"#65a30d",fynapp5:"#16a34a",fynapp6:"#059669",fynapp7:"#0d9488"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-purple":{name:"FynMesh Purple",tokens:{...n,colors:{...n.colors,primary:"#7c3aed",secondary:"#8b5cf6",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#06b6d4",light:"#faf5ff",dark:"#581c87",fynapp1:"#7c3aed",fynapp1b:"#8b5cf6",fynapp2:"#a855f7",fynapp3:"#c084fc",fynapp4:"#d8b4fe",fynapp5:"#9333ea",fynapp6:"#7c3aed",fynapp7:"#6d28d9"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-sunset":{name:"FynMesh Sunset",tokens:{...n,colors:{...n.colors,primary:"#ea580c",secondary:"#f97316",success:"#10b981",warning:"#eab308",danger:"#ef4444",info:"#06b6d4",light:"#fff7ed",dark:"#7c2d12",fynapp1:"#ea580c",fynapp1b:"#f97316",fynapp2:"#fb923c",fynapp3:"#fed7aa",fynapp4:"#fdba74",fynapp5:"#dc2626",fynapp6:"#ea580c",fynapp7:"#c2410c"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"},"fynmesh-cyberpunk":{name:"FynMesh Cyberpunk",tokens:{...n,colors:{...n.colors,primary:"#00ff88",secondary:"#ff0080",success:"#00ff88",warning:"#ffff00",danger:"#ff0040",info:"#00ddff",light:"#0a0a0a",dark:"#00ff88",fynapp1:"#00ff88",fynapp1b:"#ff0080",fynapp2:"#8000ff",fynapp3:"#ff0040",fynapp4:"#00ddff",fynapp5:"#ff8000",fynapp6:"#00ff88",fynapp7:"#4080ff"}},cssCustomProperties:!0,cssVariablePrefix:"fynmesh"}};class a{constructor(){this.globalTheme="fynmesh-default",this.perFynAppThemes=new Map,this.globalOptIns=new Map,this.customThemes=new Map,this.themeChangeSubscribers=new Set,this.styleElements=new Map,this.fynAppConfigs=new Map,Object.entries(o).forEach(([e,s])=>{this.customThemes.set(e,s)}),this.loadPersistedTheme()}getTokens(e){const s=e&&this.perFynAppThemes.has(e)?this.perFynAppThemes.get(e):this.globalTheme,t=this.customThemes.get(s);return t?.tokens||n}getTheme(e){return e?this.perFynAppThemes.has(e)?this.perFynAppThemes.get(e):(this.globalOptIns.get(e),this.globalTheme):this.globalTheme}setTheme(e,s,t=!0){if(this.customThemes.has(e)){if(t||!s){this.globalTheme=e;const s=[];this.globalOptIns.forEach((e,t)=>{e&&(this.perFynAppThemes.delete(t),s.push(t))}),s.forEach(e=>this.updateFynAppCSSCustomProperties(e)),s.forEach(s=>{const t=this.getTokens(s);this.themeChangeSubscribers.forEach(s=>{try{s(e,t)}catch(e){console.error("Error in theme change callback:",e)}})})}else{this.perFynAppThemes.set(s,e),this.updateFynAppCSSCustomProperties(s);const t=this.getTokens(s);this.themeChangeSubscribers.forEach(n=>{try{n(e,t,s)}catch(e){console.error("Error in theme change callback:",e)}})}this.persistTheme(),console.debug(`ðŸŽ¨ Theme changed to: ${e}${s&&!t?` for ${s}`:" globally"}`)}else console.warn(`ðŸš¨ Theme "${e}" not found. Available themes:`,Array.from(this.customThemes.keys()))}registerTheme(e){this.customThemes.set(e.name,e),console.debug(`ðŸŽ¨ Registered theme: ${e.name}`)}setGlobalOptIn(e,s){this.globalOptIns.set(e,s),this.persistGlobalOptIns(),console.debug(`ðŸŽ¨ ${e} ${s?"opted into":"opted out of"} global theme changes`)}getGlobalOptIn(e){return this.globalOptIns.get(e)||!1}getCSSVariable(e,s="fynmesh"){return`var(--${s}-${e})`}subscribeToThemeChanges(e){return this.themeChangeSubscribers.add(e),()=>this.themeChangeSubscribers.delete(e)}injectCustomCSS(e,s){let t=document.getElementById(s);t||(t=document.createElement("style"),t.id=s,document.head.appendChild(t)),t.textContent=e}injectCSSCustomProperties(e,s="fynmesh",t=!1){const n=this.getTokens(),o=t?":root":`#${e}`,a=this.generateCSSCustomProperties(n,s,o),r=`fynmesh-design-tokens-${e}`;let i=document.getElementById(r);i||(i=document.createElement("style"),i.id=r,document.head.appendChild(i),this.styleElements.set(r,i)),i.textContent=a,this.fynAppConfigs.set(e,{prefix:s,isGlobal:t})}generateCSSCustomProperties(e,s,t=":root"){const n=[`${t} {`];return Object.entries(e.colors).forEach(([e,t])=>{n.push(`  --${s}-color-${e}: ${t};`)}),Object.entries(e.spacing).forEach(([e,t])=>{n.push(`  --${s}-spacing-${e}: ${t};`)}),Object.entries(e.typography.sizes).forEach(([e,t])=>{n.push(`  --${s}-text-${e}: ${t};`)}),Object.entries(e.typography.weights).forEach(([e,t])=>{n.push(`  --${s}-font-weight-${e}: ${t};`)}),Object.entries(e.typography.families).forEach(([e,t])=>{n.push(`  --${s}-font-family-${e}: ${t};`)}),Object.entries(e.shadows).forEach(([e,t])=>{n.push(`  --${s}-shadow-${e}: ${t};`)}),Object.entries(e.borders.radius).forEach(([e,t])=>{n.push(`  --${s}-radius-${e}: ${t};`)}),Object.entries(e.borders.width).forEach(([e,t])=>{n.push(`  --${s}-border-${e}: ${t};`)}),Object.entries(e.breakpoints).forEach(([e,t])=>{n.push(`  --${s}-breakpoint-${e}: ${t};`)}),n.push("}"),n.join("\n")}updateAllCSSCustomProperties(){this.styleElements.forEach((e,s)=>{const t=s.replace("fynmesh-design-tokens-",""),n=this.fynAppConfigs.get(t);if(n){const s=this.getTokens(t),o=n.isGlobal?":root":`#${t}`,a=this.generateCSSCustomProperties(s,n.prefix,o);e.textContent=a}})}updateFynAppCSSCustomProperties(e){const s=`fynmesh-design-tokens-${e}`,t=this.styleElements.get(s),n=this.fynAppConfigs.get(e);if(t&&n){const s=this.getTokens(e),o=n.isGlobal?":root":`#${e}`,a=this.generateCSSCustomProperties(s,n.prefix,o);t.textContent=a}}loadPersistedTheme(){try{if("undefined"!=typeof window&&window.localStorage){const e=localStorage.getItem("fynmesh-theme");e&&this.customThemes.has(e)&&(this.globalTheme=e);const s=localStorage.getItem("fynmesh-per-app-themes");if(s){const e=JSON.parse(s);Object.entries(e).forEach(([e,s])=>{"string"==typeof s&&this.customThemes.has(s)&&this.perFynAppThemes.set(e,s)})}const t=localStorage.getItem("fynmesh-global-opt-ins");if(t){const e=JSON.parse(t);Object.entries(e).forEach(([e,s])=>{"boolean"==typeof s&&this.globalOptIns.set(e,s)})}}}catch(e){console.warn("Failed to load persisted theme:",e)}}persistTheme(){try{if("undefined"!=typeof window&&window.localStorage){localStorage.setItem("fynmesh-theme",this.globalTheme);const e=Object.fromEntries(this.perFynAppThemes.entries());localStorage.setItem("fynmesh-per-app-themes",JSON.stringify(e))}}catch(e){console.warn("Failed to persist theme:",e)}}persistGlobalOptIns(){try{if("undefined"!=typeof window&&window.localStorage){const e=Object.fromEntries(this.globalOptIns.entries());localStorage.setItem("fynmesh-global-opt-ins",JSON.stringify(e))}}catch(e){console.warn("Failed to persist global opt-ins:",e)}}listThemes(){return Array.from(this.customThemes.keys())}getThemeConfig(e){return this.customThemes.get(e)}}e("DesignTokens",a);class r{constructor(){this.name="design-tokens",this.fynAppConfigs=new WeakMap,this.designTokens=new a}async setup(e){const{fynApp:s,meta:t}=e,n=this.validateConfig(t.config);this.fynAppConfigs.set(s,n),console.debug(`ðŸŽ¨ Design Tokens Middleware setup for ${s.name}`);const o=e.kernel;if("function"==typeof o.signalMiddlewareReady)await o.signalMiddlewareReady(e,{name:this.name,status:"ready"}),console.debug(`ðŸŽ¨ Design Tokens Middleware signaled ready for ${s.name}`);else{const t=new CustomEvent("MIDDLEWARE_READY",{detail:{name:this.name,status:"ready",cc:e}});e.kernel.emitAsync(t),console.debug(`ðŸŽ¨ Design Tokens Middleware dispatched ready event for ${s.name}`)}return{status:"ready"}}async apply(e){const{fynApp:s,runtime:t}=e,n=this.fynAppConfigs.get(s);n.theme&&("string"==typeof n.theme?this.designTokens.setTheme(n.theme):(this.designTokens.registerTheme(n.theme),this.designTokens.setTheme(n.theme.name))),!1!==n.cssCustomProperties&&this.designTokens.injectCSSCustomProperties(s.name,n.cssVariablePrefix||"fynmesh",n.global||!1);const o=this.createDesignTokensAPI(s,n);t.middlewareContext.set(this.name,{designTokens:this.designTokens,api:o,tokens:this.designTokens.getTokens(),theme:this.designTokens.getTheme()}),this.exposeGlobalAPI(s,o),console.debug(`âœ… Design Tokens Middleware applied to ${s.name}`)}validateConfig(e){return{theme:e?.theme||"fynmesh-default",customTokens:e?.customTokens||{},cssCustomProperties:!1!==e?.cssCustomProperties,cssVariablePrefix:e?.cssVariablePrefix||"fynmesh",enableThemeSwitching:!1!==e?.enableThemeSwitching,persistTheme:!1!==e?.persistTheme,storageKey:e?.storageKey||"fynmesh-theme",global:e?.global||!1}}createDesignTokensAPI(e,s){return{getTokens:()=>this.designTokens.getTokens(e.name),getTheme:()=>this.designTokens.getTheme(e.name),setTheme:(s,t=!0)=>this.designTokens.setTheme(s,e.name,t),getCSSVariable:e=>{const t=s.cssVariablePrefix||"fynmesh";return this.designTokens.getCSSVariable(e,t)},subscribeToThemeChanges:e=>this.designTokens.subscribeToThemeChanges(e),injectCustomCSS:s=>{const t=`fynmesh-custom-css-${e.name}`;this.designTokens.injectCustomCSS(s,t)},setGlobalOptIn:s=>this.designTokens.setGlobalOptIn(e.name,s),getGlobalOptIn:()=>this.designTokens.getGlobalOptIn(e.name)}}exposeGlobalAPI(e,s){"undefined"!=typeof window&&(window.fynMeshDesignTokens=s),e.designTokens=s}}e("DesignTokensMiddleware",r),e("__middleware__DesignTokens",new r),e("main",s({info:{name:"design-tokens",provider:"fynapp-design-tokens",version:"^1.0.0"},config:{theme:"fynmesh-default",cssCustomProperties:!0,cssVariablePrefix:"fynmesh"}},t))}}});
//# sourceMappingURL=design-tokens-Beyzkwgu.js.map
