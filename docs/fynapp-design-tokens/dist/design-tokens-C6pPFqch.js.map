{"version":3,"file":"design-tokens-C6pPFqch.js","sources":["../node_modules/@fynmesh/kernel/lib/use-middleware.js","../src/middleware/design-tokens.ts"],"sourcesContent":["/**\n * mark some user code for middleware usage\n *\n * @param meta Information about the middleware\n * @param config Configuration for the middleware\n * @param user User code that uses the middleware\n * @returns A middleware usage object\n */\nexport const useMiddleware = (meta, user) => {\n    user.__middlewareMeta = [].concat(meta);\n    return user;\n};\nexport const noOpMiddlewareUser = {\n    initialize: () => { },\n    execute: () => { },\n};\n// example usage of useMiddleware\nexport const main = useMiddleware({\n    info: {\n        name: \"react-context\",\n        version: \"^1.0.0\",\n        provider: \"fynapp-react-lib\",\n    },\n    config: { theme: \"light\" },\n}, noOpMiddlewareUser);\n//# sourceMappingURL=use-middleware.js.map","import type { FynApp, FynAppMiddleware, FynAppMiddlewareCallContext } from \"@fynmesh/kernel\";\nimport { useMiddleware, noOpMiddlewareUser } from \"@fynmesh/kernel\";\nimport type {\n    DesignTokensData,\n    ThemeConfig,\n    DesignTokensMiddlewareConfig,\n    DesignTokensAPI\n} from \"../types\";\n\n// =============================================================================\n// Default Themes\n// =============================================================================\n\nconst defaultTokens: DesignTokensData = {\n    colors: {\n        primary: '#2563eb',\n        secondary: '#64748b',\n        success: '#059669',\n        warning: '#d97706',\n        danger: '#dc2626',\n        info: '#0284c7',\n        light: '#f8fafc',\n        dark: '#0f172a',\n        // FynApp specific colors\n        fynapp1: '#6366f1',\n        fynapp1b: '#10b981',\n        fynapp2: '#8b5cf6',\n        fynapp3: '#ff5733',\n        fynapp4: '#42b883',\n        fynapp5: '#673ab8',\n        fynapp6: '#4f46e5',\n        fynapp7: '#2D7FF9',\n    },\n    spacing: {\n        xs: '0.25rem',\n        sm: '0.5rem',\n        md: '1rem',\n        lg: '1.5rem',\n        xl: '2rem',\n        '2xl': '2.5rem',\n        '3xl': '3rem',\n    },\n    typography: {\n        sizes: {\n            xs: '0.75rem',\n            sm: '0.875rem',\n            base: '1rem',\n            lg: '1.125rem',\n            xl: '1.25rem',\n            '2xl': '1.5rem',\n            '3xl': '1.875rem',\n            '4xl': '2.25rem',\n            '5xl': '3rem',\n            '6xl': '3.75rem',\n        },\n        weights: {\n            thin: 100,\n            light: 300,\n            normal: 400,\n            medium: 500,\n            semibold: 600,\n            bold: 700,\n            extrabold: 800,\n            black: 900,\n        },\n        families: {\n            sans: 'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif',\n            serif: 'ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif',\n            mono: 'ui-monospace, SFMono-Regular, \"SF Mono\", Consolas, \"Liberation Mono\", Menlo, monospace',\n        },\n    },\n    shadows: {\n        sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\n        md: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',\n        lg: '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',\n        xl: '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',\n        '2xl': '0 25px 50px -12px rgb(0 0 0 / 0.25)',\n        inner: 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',\n        none: '0 0 #0000',\n    },\n    borders: {\n        radius: {\n            none: '0px',\n            sm: '0.125rem',\n            md: '0.375rem',\n            lg: '0.5rem',\n            xl: '0.75rem',\n            '2xl': '1rem',\n            '3xl': '1.5rem',\n            full: '9999px',\n        },\n        width: {\n            0: '0px',\n            1: '1px',\n            2: '2px',\n            4: '4px',\n            8: '8px',\n        },\n    },\n    breakpoints: {\n        sm: '640px',\n        md: '768px',\n        lg: '1024px',\n        xl: '1280px',\n        '2xl': '1536px',\n    },\n};\n\nconst predefinedThemes: Record<string, ThemeConfig> = {\n    'fynmesh-default': {\n        name: 'FynMesh Default',\n        tokens: defaultTokens,\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-dark': {\n        name: 'FynMesh Dark',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#3b82f6',\n                secondary: '#6b7280',\n                success: '#10b981',\n                warning: '#f59e0b',\n                danger: '#ef4444',\n                info: '#06b6d4',\n                light: '#1e293b',\n                dark: '#f1f5f9',\n                fynapp1: '#7c3aed',\n                fynapp1b: '#059669',\n                fynapp2: '#a855f7',\n                fynapp3: '#e11d48',\n                fynapp4: '#059669',\n                fynapp5: '#8b5cf6',\n                fynapp6: '#6366f1',\n                fynapp7: '#0ea5e9',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-blue': {\n        name: 'FynMesh Blue',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#1e40af',\n                secondary: '#3b82f6',\n                success: '#059669',\n                warning: '#d97706',\n                danger: '#dc2626',\n                info: '#0284c7',\n                light: '#eff6ff',\n                dark: '#1e3a8a',\n                fynapp1: '#1e40af',\n                fynapp1b: '#3b82f6',\n                fynapp2: '#6366f1',\n                fynapp3: '#0ea5e9',\n                fynapp4: '#06b6d4',\n                fynapp5: '#8b5cf6',\n                fynapp6: '#1e40af',\n                fynapp7: '#0284c7',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-green': {\n        name: 'FynMesh Green',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#059669',\n                secondary: '#10b981',\n                success: '#22c55e',\n                warning: '#eab308',\n                danger: '#ef4444',\n                info: '#06b6d4',\n                light: '#f0fdf4',\n                dark: '#064e3b',\n                fynapp1: '#059669',\n                fynapp1b: '#10b981',\n                fynapp2: '#22c55e',\n                fynapp3: '#84cc16',\n                fynapp4: '#65a30d',\n                fynapp5: '#16a34a',\n                fynapp6: '#059669',\n                fynapp7: '#0d9488',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-purple': {\n        name: 'FynMesh Purple',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#7c3aed',\n                secondary: '#8b5cf6',\n                success: '#10b981',\n                warning: '#f59e0b',\n                danger: '#ef4444',\n                info: '#06b6d4',\n                light: '#faf5ff',\n                dark: '#581c87',\n                fynapp1: '#7c3aed',\n                fynapp1b: '#8b5cf6',\n                fynapp2: '#a855f7',\n                fynapp3: '#c084fc',\n                fynapp4: '#d8b4fe',\n                fynapp5: '#9333ea',\n                fynapp6: '#7c3aed',\n                fynapp7: '#6d28d9',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-sunset': {\n        name: 'FynMesh Sunset',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#ea580c',\n                secondary: '#f97316',\n                success: '#10b981',\n                warning: '#eab308',\n                danger: '#ef4444',\n                info: '#06b6d4',\n                light: '#fff7ed',\n                dark: '#7c2d12',\n                fynapp1: '#ea580c',\n                fynapp1b: '#f97316',\n                fynapp2: '#fb923c',\n                fynapp3: '#fed7aa',\n                fynapp4: '#fdba74',\n                fynapp5: '#dc2626',\n                fynapp6: '#ea580c',\n                fynapp7: '#c2410c',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n    'fynmesh-cyberpunk': {\n        name: 'FynMesh Cyberpunk',\n        tokens: {\n            ...defaultTokens,\n            colors: {\n                ...defaultTokens.colors,\n                primary: '#00ff88',\n                secondary: '#ff0080',\n                success: '#00ff88',\n                warning: '#ffff00',\n                danger: '#ff0040',\n                info: '#00ddff',\n                light: '#0a0a0a',\n                dark: '#00ff88',\n                fynapp1: '#00ff88',\n                fynapp1b: '#ff0080',\n                fynapp2: '#8000ff',\n                fynapp3: '#ff0040',\n                fynapp4: '#00ddff',\n                fynapp5: '#ff8000',\n                fynapp6: '#00ff88',\n                fynapp7: '#4080ff',\n            },\n        },\n        cssCustomProperties: true,\n        cssVariablePrefix: 'fynmesh',\n    },\n};\n\n// =============================================================================\n// Design Tokens Core Class\n// =============================================================================\n\nexport class DesignTokens {\n    private currentTheme: string = 'fynmesh-default';\n    private customThemes = new Map<string, ThemeConfig>();\n    private themeChangeSubscribers = new Set<(theme: string, tokens: DesignTokensData) => void>();\n    private styleElements = new Map<string, HTMLStyleElement>();\n    private fynAppConfigs = new Map<string, { prefix: string; isGlobal: boolean }>();\n\n    constructor() {\n        // Initialize with predefined themes\n        Object.entries(predefinedThemes).forEach(([key, theme]) => {\n            this.customThemes.set(key, theme);\n        });\n\n        // Load persisted theme\n        this.loadPersistedTheme();\n    }\n\n    public getTokens(): DesignTokensData {\n        const theme = this.customThemes.get(this.currentTheme);\n        return theme?.tokens || defaultTokens;\n    }\n\n    public getTheme(): string {\n        return this.currentTheme;\n    }\n\n    public setTheme(themeName: string): void {\n        if (!this.customThemes.has(themeName)) {\n            console.warn(`🚨 Theme \"${themeName}\" not found. Available themes:`, Array.from(this.customThemes.keys()));\n            return;\n        }\n\n        this.currentTheme = themeName;\n\n        // Update CSS custom properties for all registered style elements\n        this.updateAllCSSCustomProperties();\n\n        // Notify subscribers\n        const tokens = this.getTokens();\n        this.themeChangeSubscribers.forEach(callback => {\n            try {\n                callback(themeName, tokens);\n            } catch (error) {\n                console.error('Error in theme change callback:', error);\n            }\n        });\n\n        // Persist theme\n        this.persistTheme();\n\n        console.debug(`🎨 Theme changed to: ${themeName}`);\n    }\n\n    public registerTheme(theme: ThemeConfig): void {\n        this.customThemes.set(theme.name, theme);\n        console.debug(`🎨 Registered theme: ${theme.name}`);\n    }\n\n    public getCSSVariable(tokenPath: string, prefix: string = 'fynmesh'): string {\n        return `var(--${prefix}-${tokenPath})`;\n    }\n\n    public subscribeToThemeChanges(callback: (theme: string, tokens: DesignTokensData) => void): () => void {\n        this.themeChangeSubscribers.add(callback);\n        return () => this.themeChangeSubscribers.delete(callback);\n    }\n\n    public injectCustomCSS(css: string, id: string): void {\n        let styleElement = document.getElementById(id) as HTMLStyleElement;\n\n        if (!styleElement) {\n            styleElement = document.createElement('style');\n            styleElement.id = id;\n            document.head.appendChild(styleElement);\n        }\n\n        styleElement.textContent = css;\n    }\n\n    public injectCSSCustomProperties(fynAppName: string, prefix: string = 'fynmesh', isGlobal: boolean = false): void {\n        const tokens = this.getTokens();\n        const scope = isGlobal ? ':root' : `#${fynAppName}`;\n        const css = this.generateCSSCustomProperties(tokens, prefix, scope);\n\n        const styleId = `fynmesh-design-tokens-${fynAppName}`;\n        let styleElement = document.getElementById(styleId) as HTMLStyleElement;\n\n        if (!styleElement) {\n            styleElement = document.createElement('style');\n            styleElement.id = styleId;\n            document.head.appendChild(styleElement);\n            this.styleElements.set(styleId, styleElement);\n        }\n\n        styleElement.textContent = css;\n\n        // Store the configuration for this fynapp\n        this.fynAppConfigs.set(fynAppName, { prefix, isGlobal });\n    }\n\n    private generateCSSCustomProperties(tokens: DesignTokensData, prefix: string, scope: string = ':root'): string {\n        const lines: string[] = [`${scope} {`];\n\n        // Colors\n        Object.entries(tokens.colors).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-color-${key}: ${value};`);\n        });\n\n        // Spacing\n        Object.entries(tokens.spacing).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-spacing-${key}: ${value};`);\n        });\n\n        // Typography\n        Object.entries(tokens.typography.sizes).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-text-${key}: ${value};`);\n        });\n\n        Object.entries(tokens.typography.weights).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-font-weight-${key}: ${value};`);\n        });\n\n        Object.entries(tokens.typography.families).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-font-family-${key}: ${value};`);\n        });\n\n        // Shadows\n        Object.entries(tokens.shadows).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-shadow-${key}: ${value};`);\n        });\n\n        // Borders\n        Object.entries(tokens.borders.radius).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-radius-${key}: ${value};`);\n        });\n\n        Object.entries(tokens.borders.width).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-border-${key}: ${value};`);\n        });\n\n        // Breakpoints\n        Object.entries(tokens.breakpoints).forEach(([key, value]) => {\n            lines.push(`  --${prefix}-breakpoint-${key}: ${value};`);\n        });\n\n        lines.push('}');\n\n        return lines.join('\\n');\n    }\n\n    private updateAllCSSCustomProperties(): void {\n        this.styleElements.forEach((styleElement, styleId) => {\n            const fynAppName = styleId.replace('fynmesh-design-tokens-', '');\n            const config = this.fynAppConfigs.get(fynAppName);\n\n            if (config) {\n                const tokens = this.getTokens();\n                const scope = config.isGlobal ? ':root' : `#${fynAppName}`;\n                const css = this.generateCSSCustomProperties(tokens, config.prefix, scope);\n                styleElement.textContent = css;\n            }\n        });\n    }\n\n    private loadPersistedTheme(): void {\n        try {\n            if (typeof window !== 'undefined' && window.localStorage) {\n                const saved = localStorage.getItem('fynmesh-theme');\n                if (saved && this.customThemes.has(saved)) {\n                    this.currentTheme = saved;\n                }\n            }\n        } catch (error) {\n            console.warn('Failed to load persisted theme:', error);\n        }\n    }\n\n    private persistTheme(): void {\n        try {\n            if (typeof window !== 'undefined' && window.localStorage) {\n                localStorage.setItem('fynmesh-theme', this.currentTheme);\n            }\n        } catch (error) {\n            console.warn('Failed to persist theme:', error);\n        }\n    }\n\n    // Public API for debugging\n    public listThemes(): string[] {\n        return Array.from(this.customThemes.keys());\n    }\n\n    public getThemeConfig(themeName: string): ThemeConfig | undefined {\n        return this.customThemes.get(themeName);\n    }\n}\n\n// =============================================================================\n// Design Tokens Middleware Implementation\n// =============================================================================\n\nexport class DesignTokensMiddleware implements FynAppMiddleware {\n    public readonly name = \"design-tokens\";\n\n    private designTokens: DesignTokens;\n    private fynAppConfigs = new WeakMap<FynApp, DesignTokensMiddlewareConfig>();\n\n    constructor() {\n        this.designTokens = new DesignTokens();\n    }\n\n    async setup(context: FynAppMiddlewareCallContext): Promise<{ status: string }> {\n        const { fynApp, meta } = context;\n        const config = this.validateConfig(meta.config);\n\n        this.fynAppConfigs.set(fynApp, config);\n\n        console.debug(`🎨 Design Tokens Middleware setup for ${fynApp.name}`);\n        return { status: \"ready\" };\n    }\n\n    async apply(context: FynAppMiddlewareCallContext): Promise<void> {\n        const { fynApp, runtime } = context;\n        const config = this.fynAppConfigs.get(fynApp)!;\n\n        // Set up theme if specified\n        if (config.theme) {\n            if (typeof config.theme === 'string') {\n                this.designTokens.setTheme(config.theme);\n            } else {\n                this.designTokens.registerTheme(config.theme);\n                this.designTokens.setTheme(config.theme.name);\n            }\n        }\n\n        // Inject CSS custom properties if enabled\n        if (config.cssCustomProperties !== false) {\n            this.designTokens.injectCSSCustomProperties(\n                fynApp.name,\n                config.cssVariablePrefix || 'fynmesh',\n                config.global || false\n            );\n        }\n\n        // Create API for this FynApp\n        const api = this.createDesignTokensAPI(fynApp, config);\n\n        // Store design tokens instance and API in middleware context\n        runtime.middlewareContext.set(this.name, {\n            designTokens: this.designTokens,\n            api,\n            tokens: this.designTokens.getTokens(),\n            theme: this.designTokens.getTheme(),\n        });\n\n        // Expose global API\n        this.exposeGlobalAPI(fynApp, api);\n\n        console.debug(`✅ Design Tokens Middleware applied to ${fynApp.name}`);\n    }\n\n    private validateConfig(config: any): DesignTokensMiddlewareConfig {\n        return {\n            theme: config?.theme || 'fynmesh-default',\n            customTokens: config?.customTokens || {},\n            cssCustomProperties: config?.cssCustomProperties !== false,\n            cssVariablePrefix: config?.cssVariablePrefix || 'fynmesh',\n            enableThemeSwitching: config?.enableThemeSwitching !== false,\n            persistTheme: config?.persistTheme !== false,\n            storageKey: config?.storageKey || 'fynmesh-theme',\n            global: config?.global || false,\n        };\n    }\n\n    private createDesignTokensAPI(fynApp: FynApp, config: DesignTokensMiddlewareConfig): DesignTokensAPI {\n        return {\n            getTokens: () => this.designTokens.getTokens(),\n            getTheme: () => this.designTokens.getTheme(),\n            setTheme: (theme: string) => this.designTokens.setTheme(theme),\n            getCSSVariable: (tokenPath: string) => {\n                const prefix = config.cssVariablePrefix || 'fynmesh';\n                return this.designTokens.getCSSVariable(tokenPath, prefix);\n            },\n            subscribeToThemeChanges: (callback: (theme: string, tokens: DesignTokensData) => void) => {\n                return this.designTokens.subscribeToThemeChanges(callback);\n            },\n            injectCustomCSS: (css: string) => {\n                const styleId = `fynmesh-custom-css-${fynApp.name}`;\n                this.designTokens.injectCustomCSS(css, styleId);\n            },\n        };\n    }\n\n    private exposeGlobalAPI(fynApp: FynApp, api: DesignTokensAPI): void {\n        // Expose API globally for easy access\n        if (typeof window !== 'undefined') {\n            (window as any).fynMeshDesignTokens = api;\n        }\n\n        // Also expose on the FynApp object\n        (fynApp as any).designTokens = api;\n    }\n}\n\n// Export the middleware instance\nexport const __middleware__DesignTokens = new DesignTokensMiddleware();\n\n// Simple main that just loads the middleware\nexport const main = useMiddleware(\n    {\n        info: {\n            name: \"design-tokens\",\n            provider: \"fynapp-design-tokens\",\n            version: \"^1.0.0\",\n        },\n        config: {\n            theme: \"fynmesh-default\",\n            cssCustomProperties: true,\n            cssVariablePrefix: \"fynmesh\",\n        },\n    },\n    noOpMiddlewareUser,\n);\n"],"names":["useMiddleware","meta","user","__middlewareMeta","concat","noOpMiddlewareUser","initialize","execute","info","name","version","provider","config","theme","defaultTokens","colors","primary","secondary","success","warning","danger","light","dark","fynapp1","fynapp1b","fynapp2","fynapp3","fynapp4","fynapp5","fynapp6","fynapp7","spacing","xs","sm","md","lg","xl","typography","sizes","base","weights","thin","normal","medium","semibold","bold","extrabold","black","families","sans","serif","mono","shadows","inner","none","borders","radius","full","width","breakpoints","predefinedThemes","tokens","cssCustomProperties","cssVariablePrefix","DesignTokens","constructor","this","currentTheme","customThemes","Map","themeChangeSubscribers","Set","styleElements","fynAppConfigs","Object","entries","forEach","key","set","loadPersistedTheme","getTokens","get","getTheme","setTheme","themeName","has","console","warn","Array","from","keys","updateAllCSSCustomProperties","callback","error","persistTheme","debug","registerTheme","getCSSVariable","tokenPath","prefix","subscribeToThemeChanges","add","delete","injectCustomCSS","css","id","styleElement","document","getElementById","createElement","head","appendChild","textContent","injectCSSCustomProperties","fynAppName","isGlobal","scope","generateCSSCustomProperties","styleId","lines","value","push","join","replace","window","localStorage","saved","getItem","setItem","listThemes","getThemeConfig","exports","DesignTokensMiddleware","WeakMap","designTokens","setup","context","fynApp","validateConfig","status","apply","runtime","global","api","createDesignTokensAPI","middlewareContext","exposeGlobalAPI","customTokens","enableThemeSwitching","storageKey","fynMeshDesignTokens"],"mappings":"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","x_google_ignoreList":[0]}